{% extends 'base.html' %}
{% load static %}
{% block title %}<title>Guest Log</title> {% endblock %}
{% block content %}
    {% if not user.is_desk_account %}
        <h3><strong>403 You do not have proper viewing permissions. </strong></h3>
    {% endif %}
    <link rel="stylesheet" href="{% static 'desklogs/css/guestlog.css' %}">
    <div id="everything">
        <div id="entry_div" data-guestlog-pk="{{ guestlog.pk }}"
             data-create-entry-url="{% url 'desklogs:ajax-create-blank-entry' %}">
            {% if guestlog_entries %}
                <table id="entries">
                    <tr>
                        <th>Status</th>
                        <th>Time In</th>
                        <th>Date In</th>
                        <th>Host Name</th>
                        <th>Guest Name</th>
                        <th>Time Out</th>
                        <th>Date Out</th>
                    </tr>
                    {% for entry in guestlog_entries %}
                        <tr>
                            <td bgcolor="{% if entry.guest_checked_in %}green{% else %}red{% endif %}"></td>
                            <td><input type="text" class="form-control"
                                       value="{% if entry.time_in %}{{ entry.time_in }}{% endif %}" disabled></td>
                            <td><input type="text" class="form-control"
                                       value="{% if entry.date_in %}{{ entry.date_in }}{% endif %}" disabled></td>
                            <td><input type="text" class="form-control"
                                       value="{% if entry.host_name %}{{ entry.host_name }}{% endif %}"></td>
                            <td><input type="text" class="form-control"
                                       value="{% if entry.guest_name %}{{ entry.guest_name }}{% endif %}"></td>
                            <td><input type="text" class="form-control"
                                       value="{% if entry.time_out %}{{ entry.time_out }}{% endif %}" disabled></td>
                            <td><input type="text" class="form-control"
                                       value="{% if entry.date_out %}{{ entry.date_out }}{% endif %}" disabled></td>
                        </tr>
                    {% endfor %}
                </table>
            {% else %}
                <h3 id="no_entries">There are currently do guestlog entries in the system.</h3>
            {% endif %}
        </div>
    </div>
    <div id="create_entry_button_div">
        <a href="#" class="btn btn-success" id="create_entry_button">Create New Guestlog Entry</a>
    </div>
    <script src="{% static 'desklogs/js/create_entry.js' %}"></script>
{% endblock %}